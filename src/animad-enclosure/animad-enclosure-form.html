<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/nebula-i18n/nebula-i18n.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/custom-style.html">
<link rel="import" href="../../bower_components/shadycss/apply-shim.html">

<dom-module id="animad-enclosure-form">
    <template>
        <style is="custom-style">
            .animad-enclosure-form {
                display: grid;
                @apply --animad-enclosure-form-styles;
            }
        </style>
        <iron-form id="iform">
            <form class="animad-enclosure-form">
               <paper-input 
                    id="enclosure-name"
                    type="text" 
                    name="name" 
                    label="[[$t('animad_enclosure_name')]]" 
                    value="{{data.name}}" 
                    disabled="{{disabled}}"
                    required
                    auto-validate="{{autoValidate}}"
                    minlength="3" 
                    maxlength="30"
                    error-message="[[$t('animad_enclosure_name_error')]]">
                </paper-input>
                <paper-input 
                    id="enclosure-cleaningTime"
                    type="time" 
                    name=cleaningTime 
                    label="[[$t('animad_enclosure_cleaningTime')]]" 
                    value="{{data.cleaningTime}}"
                    disabled="{{disabled}}" 
                    required 
                    auto-validate="{{autoValidate}}"
                    error-message="[[$t('animad_enclosure_cleaningTime_error')]]">
                </paper-input>   
            </form>
        </iron-form> 
    </template>
    <script>
        class AnimadEnclosureForm extends Nebula.PolyglotBehavior(Polymer.Element) {
            static get is() { return 'animad-enclosure-form'; }

            static get properties() {
                return {
                    data: {
                        type: Object,
                        value() {
                            return {}
                        }
                    },
                    autoValidate: Boolean,
                    disabled: {
                        type: Boolean,
                        value: false
                    }
                }
            }

            validate() {
                return this.shadowRoot.querySelector('#iform').validate();
            }

            reset() {
                return this.shadowRoot.querySelector('#iform').reset();
            }
        }

        customElements.define(AnimadEnclosureForm.is, AnimadEnclosureForm);
    </script>
</dom-module>